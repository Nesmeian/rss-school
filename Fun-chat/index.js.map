{"version":3,"file":"index.js","sources":["../src/utils/createElems.ts","../src/components/modals/loginIsAuth/loginIsAuth.ts","../src/view/chat/chat.ts","../src/view/footer/footer.ts","../src/view/header/header.ts","../src/webSocket/webSocket.ts","../src/components/modals/about/about.ts","../src/components/auth/authForm.ts","../src/view/main/mainLoyalt.ts","../src/app/app.ts","../src/main.ts"],"sourcesContent":["export interface Param {\r\n  tag?: string;\r\n  text?: string;\r\n  parent?: HTMLElement | null;\r\n  classes?: string[];\r\n}\r\nexport type Html = HTMLTemplateElement | Element;\r\nexport default class createElement {\r\n  element: Html;\r\n  constructor(param: Param) {\r\n    this.element = this.createElement(param);\r\n  }\r\n  getElement(): Html {\r\n    return this.element;\r\n  }\r\n  createElement(param: Param): Html {\r\n    const element = document.createElement(param.tag || \"\");\r\n    this.setCssClasses(element, param.classes || [\"\"]);\r\n    this.setTextContent(element, param.text || \"\");\r\n    return element;\r\n  }\r\n  setCssClasses(element: Element, cssClasses: string[]): void {\r\n    cssClasses.forEach((className) => element.classList.add(className));\r\n  }\r\n  setTextContent(element: Element, text: string): void {\r\n    element.textContent = text;\r\n  }\r\n}\r\n","import createElement, { Html } from \"../../../utils/createElems\";\r\nimport \"./loginIsAuth.scss\";\r\n\r\nexport class modalIsAuth {\r\n  buildModal(): Html {\r\n    const wrapper = this.createModalWrapper();\r\n    const modal = this.createModal();\r\n    const message = this.createMessage();\r\n    const button = this.createButton();\r\n    wrapper.append(modal);\r\n    modal.append(message);\r\n    modal.append(button);\r\n    return wrapper;\r\n  }\r\n  createModalWrapper(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"is-auth__wrapper\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createModal(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"is-auth__modal\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createMessage(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"is-auth__modal__message\"],\r\n      text: \"This user is already logined!\",\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createButton(): Html {\r\n    const param = {\r\n      tag: \"button\",\r\n      classes: [\"is-auth__modal__btn\", \"button\"],\r\n      text: \"Close\",\r\n    };\r\n    const button = new createElement(param).getElement();\r\n    button.setAttribute(\"type\", \"button\");\r\n    button.addEventListener(\"click\", () => {\r\n      const wrapper = document.querySelector(\".is-auth__wrapper\");\r\n      wrapper?.classList.remove(\"is-auth__wrapper--active\");\r\n      setTimeout(() => {\r\n        wrapper?.remove();\r\n      }, 700);\r\n    });\r\n    return button;\r\n  }\r\n}\r\n","import { AuthForm } from \"../../components/auth/authForm\";\r\nimport createElement, { Html } from \"../../utils/createElems\";\r\nimport { socket } from \"../../webSocket/webSocket\";\r\nimport \"./chat.scss\";\r\n\r\nexport class Chat {\r\n  buildChat(): Html {\r\n    const chat = this.createChat();\r\n    const wrapper = this.createChatWrapper();\r\n    const infContainer = this.createUserInfContainer();\r\n    const user = this.createUser();\r\n    const userCondition = this.createUserCondition();\r\n    const window = this.createChatWindow();\r\n    const messageContainer = this.createChatMessageContainer();\r\n    const messageInput = this.createChatMessageInput();\r\n    const button = this.createChatMessageButton();\r\n    const users = this.createUsers();\r\n    const usersSearch = this.createUsersSearch();\r\n    const usersList = this.createUsersList();\r\n    chat.append(users);\r\n    users.append(usersSearch);\r\n    users.append(usersList);\r\n    chat.append(wrapper);\r\n    wrapper.append(infContainer);\r\n    infContainer.append(user);\r\n    infContainer.append(userCondition);\r\n    wrapper.append(window);\r\n    wrapper.append(messageContainer);\r\n    messageContainer.append(messageInput);\r\n    messageContainer.append(button);\r\n    return chat;\r\n  }\r\n  createChat(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"chat\", \"chat--inactive\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createChatWrapper(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"chat__wrapper\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createUserInfContainer(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"chat__user-container\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createUser(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"user-container__user\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createUserCondition(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"user-container__user-condition\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createChatWindow(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"user-container__window\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createChatMessageContainer(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"user__container-message\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createChatMessageInput(): Html {\r\n    const param = {\r\n      tag: \"input\",\r\n      classes: [\"container-message__input\"],\r\n    };\r\n    const result = new createElement(param).getElement();\r\n    result.setAttribute(\"type\", \"text\");\r\n    return result;\r\n  }\r\n  createChatMessageButton(): Html {\r\n    const param = {\r\n      tag: \"button\",\r\n      classes: [\"container-message__button\", \"button\"],\r\n      text: \"send\",\r\n    };\r\n    const result = new createElement(param).getElement();\r\n    result.setAttribute(\"type\", \"button\");\r\n    result.addEventListener(\"click\", () => {\r\n      this.sendMessage();\r\n    });\r\n    return result;\r\n  }\r\n\r\n  createUsers(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"users__container\"],\r\n    };\r\n    const result = new createElement(param).getElement();\r\n    return result;\r\n  }\r\n  createUsersSearch(): HTMLInputElement {\r\n    const param = {\r\n      tag: \"input\",\r\n      classes: [\"users__search\"],\r\n    };\r\n    const result = <HTMLInputElement>new createElement(param).getElement();\r\n    result.setAttribute(\"type\", \"text\");\r\n    result.addEventListener(\"input\", () => {\r\n      this.searchUser(result.value);\r\n    });\r\n    return result;\r\n  }\r\n  createUsersList(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"users__list\"],\r\n    };\r\n    const result = new createElement(param).getElement();\r\n    return result;\r\n  }\r\n  createAllUsers(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"users__item\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n\r\n  addItemToList(list: Html, user: { login: string }[], classes: string): void {\r\n    const currentLogin = JSON.parse(sessionStorage.getItem(\"Login\") ?? \"{}\");\r\n    user.forEach((e) => {\r\n      const user = this.createAllUsers();\r\n      if (currentLogin.login !== e.login) {\r\n        if (classes === \"active\") {\r\n          user.classList.add(\"--active\");\r\n        } else {\r\n          user.classList.add(\"--inactive\");\r\n        }\r\n        user.textContent = e.login;\r\n        list.append(user);\r\n      }\r\n    });\r\n  }\r\n  searchUser(value: string): void {\r\n    const users = document.querySelectorAll(\".users__item\");\r\n    users.forEach((user) => {\r\n      value = value.toLowerCase();\r\n      const userText = user.textContent?.toLowerCase() || \"\";\r\n      if (!userText.includes(value)) {\r\n        (user as HTMLElement).style.display = \"none\";\r\n      } else {\r\n        (user as HTMLElement).style.display = \"flex\";\r\n      }\r\n    });\r\n  }\r\n  selectUser(): void {\r\n    const users = document.querySelectorAll(\".users__item\");\r\n    const userName = document.querySelector<HTMLElement>(\r\n      \".user-container__user\"\r\n    );\r\n    const condition = document.querySelector<HTMLElement>(\r\n      \".user-container__user-condition\"\r\n    );\r\n    if (userName && condition) {\r\n      users.forEach((e) => {\r\n        e.addEventListener(\"click\", () => {\r\n          userName.textContent = `User: ${e.textContent}`;\r\n          if (e.classList.contains(\"--active\")) {\r\n            condition.textContent = \"Online\";\r\n          } else {\r\n            condition.textContent = \"Offline\";\r\n          }\r\n          const messagesFrom = JSON.stringify({\r\n            id: new AuthForm().idGenerator(),\r\n            type: \"MSG_FROM_USER\",\r\n            payload: {\r\n              user: {\r\n                login: e.textContent,\r\n              },\r\n            },\r\n          });\r\n          if (socket?.readyState) {\r\n            socket.send(messagesFrom);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n  sendMessage(): void {\r\n    const name = document.querySelector<HTMLElement>(\".user-container__user\");\r\n    const messageValue = document.querySelector<HTMLInputElement>(\r\n      \".container-message__input\"\r\n    );\r\n    const input: HTMLInputElement | null = document.querySelector(\r\n      \".container-message__input\"\r\n    );\r\n    if (input) {\r\n      if (input.value !== \"\") {\r\n        if (name?.textContent != \"\") {\r\n          let result = name?.textContent;\r\n          result = result?.replace(/^User: /, \"\");\r\n          const messageSend = JSON.stringify({\r\n            id: new AuthForm().idGenerator(),\r\n            type: \"MSG_SEND\",\r\n            payload: {\r\n              message: {\r\n                to: result,\r\n                text: messageValue?.value,\r\n              },\r\n            },\r\n          });\r\n          const messageFrom = JSON.stringify({\r\n            id: new AuthForm().idGenerator(),\r\n            type: \"MSG_FROM_USER\",\r\n            payload: {\r\n              user: {\r\n                login: result,\r\n              },\r\n            },\r\n          });\r\n          socket?.send(messageSend);\r\n          socket?.send(messageFrom);\r\n          if (messageValue) {\r\n            messageValue.value = \"\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import createElement, { Html } from \"../../utils/createElems\";\r\nimport \"./footer.scss\";\r\nexport class Footer {\r\n  buildFooter(): Html {\r\n    const footer = this.createFooter();\r\n    const wrapper = this.createWrapper();\r\n    const logo = this.createLinkLogo();\r\n    const year = this.createYear();\r\n    const gitHub = this.createLinkGithub();\r\n    footer.append(wrapper);\r\n    wrapper.append(logo);\r\n    wrapper.append(year);\r\n    wrapper.append(gitHub);\r\n    return footer;\r\n  }\r\n  createFooter(): Html {\r\n    const param = {\r\n      tag: \"footer\",\r\n      classes: [\"footer\", \"footer--inactive\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createWrapper(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"footer__wrapper\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createLogo(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"footer__logo\"],\r\n    };\r\n    const img = new createElement(param).getElement();\r\n    return img;\r\n  }\r\n  createLinkLogo(): Html {\r\n    const param = {\r\n      tag: \"a\",\r\n      classes: [\"footer__git-hub_link\", \"link\"],\r\n    };\r\n    const a = new createElement(param).getElement();\r\n    const logo = this.createLogo();\r\n    a.setAttribute(\"href\", \"https://rs.school/\");\r\n    a.append(logo);\r\n    return a;\r\n  }\r\n  createYear(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"footer__year\"],\r\n      text: \"2024\",\r\n    };\r\n    const button = new createElement(param).getElement();\r\n    button.setAttribute(\"type\", \"button\");\r\n    return button;\r\n  }\r\n  createGitHub(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"footer__git-hub\"],\r\n      text: \"Nesmeian\",\r\n    };\r\n    const result = new createElement(param).getElement();\r\n    result.setAttribute(\"type\", \"button\");\r\n    return result;\r\n  }\r\n  createLinkGithub(): Html {\r\n    const param = {\r\n      tag: \"a\",\r\n      classes: [\"footer__git-hub_link\", \"link\"],\r\n    };\r\n    const a = new createElement(param).getElement();\r\n    const gitHub = this.createGitHub();\r\n    a.setAttribute(\"href\", \"https://github.com/Nesmeian\");\r\n    a.append(gitHub);\r\n    return a;\r\n  }\r\n}\r\n","import { AuthForm } from \"../../components/auth/authForm\";\r\nimport createElement, { Html } from \"../../utils/createElems\";\r\nimport { logOutServer } from \"../../webSocket/webSocket\";\r\nimport \"./header.scss\";\r\nexport class Header {\r\n  buildHeader(): Html {\r\n    const header = this.createHeader();\r\n    const wrapper = this.createWrapper();\r\n    const logo = this.createLogo();\r\n    const title = this.createTitle();\r\n    const logOut = this.createLogout();\r\n    header.append(wrapper);\r\n    wrapper.append(logo);\r\n    wrapper.append(title);\r\n    wrapper.append(logOut);\r\n\r\n    return header;\r\n  }\r\n  createHeader(): Html {\r\n    const param = {\r\n      tag: \"header\",\r\n      classes: [\"header\", \"header--inactive\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createWrapper(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"header__wrapper\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createLogo(): Html {\r\n    const name: string | null = JSON.parse(\r\n      sessionStorage.getItem(\"Login\") ?? \"{}\"\r\n    )?.login;\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"header__logo\"],\r\n      text: `User: ${name}`,\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createTitle(): Html {\r\n    const param = {\r\n      tag: \"h1\",\r\n      classes: [\"header__Title\"],\r\n      text: \"Fun Chat\",\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createLogout(): Html {\r\n    const param = {\r\n      tag: \"button\",\r\n      classes: [\"header__log-out_btn\", \"header__btn\", \"button\"],\r\n      text: \"Log out\",\r\n    };\r\n    const button = new createElement(param).getElement();\r\n    button.setAttribute(\"type\", \"button\");\r\n    button.addEventListener(\"click\", this.logOut);\r\n    return button;\r\n  }\r\n  logOut(): void {\r\n    logOutServer();\r\n    sessionStorage.removeItem(\"Login\");\r\n    const mainWrapper = document.querySelector(\".wrapper\");\r\n    const header = document.querySelector(\"header\");\r\n    const footer = document.querySelector(\"footer\");\r\n    const chat = document.querySelector(\".chat\");\r\n    const authForm = new AuthForm().collectForm();\r\n    authForm.classList.add(\"auth__form--remove\");\r\n    header?.classList.add(\"header--inactive\");\r\n    footer?.classList.add(\"footer--inactive\");\r\n    chat?.classList.add(\"chat--inactive\");\r\n    setTimeout(() => {\r\n      header?.remove();\r\n      footer?.remove();\r\n      chat?.remove();\r\n      mainWrapper?.append(authForm);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      authForm.classList.remove(\"auth__form--remove\");\r\n    }, 600);\r\n  }\r\n}\r\n","import { AuthForm } from \"../components/auth/authForm\";\r\nimport { modalIsAuth } from \"../components/modals/loginIsAuth/loginIsAuth\";\r\nimport createElement, { Html } from \"../utils/createElems\";\r\nimport { Chat } from \"../view/chat/chat\";\r\nimport { Footer } from \"../view/footer/footer\";\r\nimport { Header } from \"../view/header/header\";\r\n\r\nexport const socket: WebSocket | null = new WebSocket(\"ws://127.0.0.1:4000\");\r\nsocket.onopen = function () {\r\n  if (sessionStorage.getItem(\"Login\")) {\r\n    sendLoginWhenReload();\r\n  }\r\n  if (!sessionStorage.getItem(\"Login\")) {\r\n    sesionLogin();\r\n  }\r\n};\r\nsocket.onmessage = function (e) {\r\n  const chat = new Chat();\r\n  const form = document.querySelector(\".auth__form\");\r\n  const body = document.querySelector(\"body\");\r\n  const mainWrapper = document.querySelector(\".wrapper\");\r\n  const header = new Header().buildHeader();\r\n  const modalIsAuthorizate = new modalIsAuth().buildModal();\r\n  const footer = new Footer().buildFooter();\r\n  const chats = chat.buildChat();\r\n  const message = JSON.parse(e.data);\r\n  const chatsa = document.querySelector(\".users__list\");\r\n  const error = message.payload.error;\r\n  if (message.type === \"USER_INACTIVE\") {\r\n    const inactive = message.payload.users;\r\n    createListOfUsers(inactive, \"inactive\");\r\n  }\r\n  if (message.type === \"USER_ACTIVE\") {\r\n    if (chatsa) {\r\n      chatsa.innerHTML = \"\";\r\n    }\r\n    const active = message.payload.users;\r\n    createListOfUsers(active, \"active\");\r\n  }\r\n  if (message.type === \"ERROR\") {\r\n    if (\r\n      error === \"incorrect password\" ||\r\n      error === \"a user with this login is already authorized\"\r\n    ) {\r\n      sessionStorage.removeItem(\"Login\");\r\n      if (body?.querySelector(\".is-auth__wrapper\")) {\r\n        throw new Error(\"this modal is already appear\");\r\n      } else {\r\n        body?.insertAdjacentElement(\"afterbegin\", modalIsAuthorizate);\r\n        const modalText = document.querySelector(\".is-auth__modal__message\");\r\n        if (modalText) {\r\n          modalText.textContent = error;\r\n        }\r\n        setTimeout(\r\n          () => modalIsAuthorizate?.classList.add(\"is-auth__wrapper--active\"),\r\n          100\r\n        );\r\n      }\r\n    }\r\n  } else {\r\n    if (!error) {\r\n      if (!document.querySelector(\"header\")) {\r\n        body?.insertAdjacentElement(\"afterbegin\", header);\r\n        mainWrapper?.insertAdjacentElement(\"afterbegin\", chats);\r\n        setTimeout(() => {\r\n          header.classList.remove(\"header--inactive\"),\r\n            chats.classList.remove(\"chat--inactive\");\r\n        }, 500);\r\n      }\r\n      if (!document.querySelector(\"footer\")) {\r\n        body?.insertAdjacentElement(\"beforeend\", footer);\r\n        setTimeout(() => footer.classList.remove(\"footer--inactive\"), 500);\r\n      }\r\n      form?.classList.add(\"auth__form--remove\");\r\n      setInterval(() => {\r\n        form?.remove();\r\n      }, 500);\r\n    }\r\n  }\r\n  if (\r\n    message.type === \"USER_EXTERNAL_LOGIN\" ||\r\n    message.type === \"USER_EXTERNAL_LOGOUT\" ||\r\n    message.type === \"USER_LOGIN\"\r\n  ) {\r\n    console.log(message.type);\r\n    const idGenerator = new AuthForm().idGenerator();\r\n    const idGenerator2 = new AuthForm().idGenerator();\r\n    const userInactive = JSON.stringify({\r\n      id: idGenerator,\r\n      type: \"USER_INACTIVE\",\r\n      payload: null,\r\n    });\r\n    const userActive = JSON.stringify({\r\n      id: idGenerator2,\r\n      type: \"USER_ACTIVE\",\r\n      payload: null,\r\n    });\r\n    socket.send(userActive);\r\n    socket.send(userInactive);\r\n  }\r\n  if (message.type === \"MSG_FROM_USER\") {\r\n    const chat = document.querySelector(\".user-container__window\");\r\n    const messagesFrom = message.payload.messages;\r\n    console.log(message.payload);\r\n    if (chat) {\r\n      console.log(5);\r\n      chat.textContent = \"\";\r\n      messagesFrom.forEach(\r\n        (e: { datetime: number; text: string; from: string }) => {\r\n          const messageItem = createMessage(e.datetime, e.from, e.text);\r\n          chat.append(messageItem);\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport function logOutServer(): void {\r\n  if (socket?.readyState) {\r\n    const sesionLogin = JSON.parse(sessionStorage.getItem(\"Login\") ?? \"{}\");\r\n    const login = JSON.stringify({\r\n      id: sesionLogin.id,\r\n      type: \"USER_LOGOUT\",\r\n      payload: {\r\n        user: {\r\n          login: sesionLogin.login,\r\n          password: sesionLogin.password,\r\n        },\r\n      },\r\n    });\r\n    socket.send(login);\r\n  }\r\n}\r\nexport function createListOfUsers(\r\n  message: { login: string }[],\r\n  classes: string\r\n): void {\r\n  const userlist = document.querySelector(\".users__list\");\r\n  if (userlist) {\r\n    new Chat().addItemToList(userlist, message, classes);\r\n    new Chat().selectUser();\r\n  }\r\n}\r\n\r\nexport function sendLoginWhenReload(): void {\r\n  if (socket?.readyState) {\r\n    const body = document.querySelector(\"body\");\r\n    const footer = new Footer().buildFooter();\r\n    const header = new Header().buildHeader();\r\n    const loginSession = JSON.parse(sessionStorage.getItem(\"Login\") ?? \"{}\");\r\n    const loginSes = JSON.stringify({\r\n      id: `${loginSession.id}`,\r\n      type: \"USER_LOGIN\",\r\n      payload: {\r\n        user: {\r\n          login: `${loginSession?.login}`,\r\n          password: `${loginSession?.password}`,\r\n        },\r\n      },\r\n    });\r\n    socket.send(loginSes);\r\n    body?.insertAdjacentElement(\"afterbegin\", header);\r\n    body?.append(footer);\r\n    setTimeout(() => {\r\n      header.classList.remove(\"header--inactive\");\r\n      footer.classList.remove(\"footer--inactive\");\r\n    }, 100);\r\n  }\r\n}\r\n\r\nexport function sesionLogin(): void {\r\n  if (socket?.readyState) {\r\n    if (sessionStorage.getItem(\"Login\")) {\r\n      const sesion = JSON.parse(sessionStorage.getItem(\"Login\") ?? \"{}\");\r\n      const authorization = JSON.stringify({\r\n        id: `${sesion.id}`,\r\n        type: \"USER_LOGIN\",\r\n        payload: {\r\n          user: {\r\n            login: `${sesion.login}`,\r\n            password: `${sesion.password}`,\r\n          },\r\n        },\r\n      });\r\n      socket.send(authorization);\r\n    }\r\n  }\r\n}\r\nexport function createMessage(\r\n  timeMessage: number,\r\n  fromLogin: string,\r\n  textMessage: string\r\n): Html {\r\n  const param = {\r\n    tag: \"div\",\r\n    classes: [\"window__message\"],\r\n  };\r\n  const message = new createElement(param).getElement();\r\n  const login = JSON.parse(sessionStorage.getItem(\"Login\") ?? \"{}\");\r\n  if (fromLogin == login.login) {\r\n    message.classList.add(\"--current\");\r\n  }\r\n  const time = messageTime(timeMessage);\r\n  const from = messageFrom(fromLogin);\r\n  const text = messageText(textMessage);\r\n  message.append(from);\r\n  message.append(text);\r\n  message.append(time);\r\n  return message;\r\n}\r\nexport function messageTime(textTime: number): Html {\r\n  const param = {\r\n    tag: \"div\",\r\n    classes: [\"message__time\"],\r\n    text: new Date(textTime).toLocaleString(),\r\n  };\r\n  return new createElement(param).getElement();\r\n}\r\nexport function messageFrom(messageFromLogin: string): Html {\r\n  const param = {\r\n    tag: \"div\",\r\n    classes: [\"message__from-login\"],\r\n    text: messageFromLogin,\r\n  };\r\n  return new createElement(param).getElement();\r\n}\r\nexport function messageText(messageText: string): Html {\r\n  const param = {\r\n    tag: \"div\",\r\n    classes: [\"message__text\"],\r\n  };\r\n  const result = new createElement(param).getElement();\r\n  console.log(spliceStr(messageText));\r\n  result.innerHTML = spliceStr(messageText);\r\n  return result;\r\n}\r\nfunction spliceStr(str: string): string {\r\n  if (str.length > 10) {\r\n    const match = str.match(/.{1,10}/g);\r\n    if (match) {\r\n      const dividedStr = match.join(\" \");\r\n      return dividedStr;\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n","import createElement, { Html } from \"../../../utils/createElems\";\r\nimport \"./about.scss\";\r\nexport class AboutModal {\r\n  buildAbout(): Html {\r\n    const about = this.createAboutModal();\r\n    const wrapper = this.createWrapper();\r\n    const text = this.createText();\r\n    const closBtn = this.createCloseBtn();\r\n    const link = this.createAuthorLink();\r\n    about.append(wrapper);\r\n    wrapper.append(text);\r\n    wrapper.append(link);\r\n    wrapper.append(closBtn);\r\n    return about;\r\n  }\r\n  createAboutModal(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"about\", \"about--inactive\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createWrapper(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"about__wrapper\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createText(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"about__text\"],\r\n      text: \"I hope this application give you a lot of fun ;)\\n This is must dificult app what i ever make so,if you find bugs please text me;)\",\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createAuthorLink(): Html {\r\n    const param = {\r\n      tag: \"a\",\r\n      classes: [\"about__author-link\"],\r\n    };\r\n    const author = this.createAuthor();\r\n    const result = new createElement(param).getElement();\r\n    result.setAttribute(\"href\", \"https://github.com/Nesmeian\");\r\n    result.append(author);\r\n    return result;\r\n  }\r\n  createAuthor(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"about__author\"],\r\n      text: \"Nesmeian\",\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createCloseBtn(): Html {\r\n    const param = {\r\n      tag: \"button\",\r\n      classes: [\"about__close-btn\", \"button\"],\r\n      text: \"Close\",\r\n    };\r\n    const button = new createElement(param).getElement();\r\n    button.addEventListener(\"click\", () => {\r\n      const about = document.querySelector(\".about\");\r\n      about?.classList.add(\"about--inactive\");\r\n      setTimeout(() => {\r\n        about?.remove();\r\n      }, 1000);\r\n    });\r\n    return button;\r\n  }\r\n}\r\n","import createElement from \"../../utils/createElems\";\r\nimport { Html } from \"../../utils/createElems\";\r\nimport { socket } from \"../../webSocket/webSocket\";\r\nimport { AboutModal } from \"../modals/about/about\";\r\nimport \"./authForm.scss\";\r\nexport class AuthForm {\r\n  conditionLogin: boolean;\r\n  conditionPassword: boolean;\r\n  constructor() {\r\n    this.conditionLogin = false;\r\n    this.conditionPassword = false;\r\n  }\r\n  collectForm(): Html {\r\n    const form = this.createForm();\r\n    const login = this.createInputLogWrapper();\r\n    const password = this.createInputPassWrapper();\r\n    const button = this.createButton();\r\n    const aboutBtn = this.createAboutBtn();\r\n    form.append(login);\r\n    form.append(password);\r\n    form.append(button);\r\n    form.append(aboutBtn);\r\n    return form;\r\n  }\r\n\r\n  createForm(): Html {\r\n    const param = {\r\n      tag: \"form\",\r\n      classes: [\"auth__form\", \"form\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createInputLogWrapper(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"auth__wrapper-login\", \"auth__input-wrapper\"],\r\n    };\r\n    const wrapper = new createElement(param).getElement();\r\n    const label = this.createLabelLogin();\r\n    wrapper.append(label);\r\n    return wrapper;\r\n  }\r\n  createLabelLogin(): Html {\r\n    const param = {\r\n      tag: \"label\",\r\n      classes: [\"auth__label\", \"label\"],\r\n      text: \"Login\",\r\n    };\r\n    const lable = new createElement(param).getElement();\r\n    const input = this.createInputLogin();\r\n    lable.append(input);\r\n    return lable;\r\n  }\r\n\r\n  createInputLogin(): Html {\r\n    const param = {\r\n      tag: \"input\",\r\n      classes: [\"auth__input-login\", \"input\"],\r\n    };\r\n    const login = new createElement(param).getElement();\r\n    login.setAttribute(\"type\", \"text\");\r\n    login.addEventListener(\"focus\", () => {});\r\n    login.addEventListener(\"blur\", () => {\r\n      const wrapper = document.querySelector(\".auth__wrapper-login\");\r\n      this.validation(login, \"Login\", wrapper);\r\n    });\r\n    return login;\r\n  }\r\n  createInputPassWrapper(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"auth__wrapper-password\", \"auth__input-wrapper\"],\r\n    };\r\n    const wrapper = new createElement(param).getElement();\r\n    const label = this.createLabelPassword();\r\n    wrapper.append(label);\r\n    return wrapper;\r\n  }\r\n  createLabelPassword(): Html {\r\n    const param = {\r\n      tag: \"label\",\r\n      classes: [\"auth__label\", \"label\"],\r\n      text: \"Password\",\r\n    };\r\n    const lable = new createElement(param).getElement();\r\n    const input = this.createInputPassword();\r\n    lable.append(input);\r\n    return lable;\r\n  }\r\n  createInputPassword(): Html {\r\n    const param = {\r\n      tag: \"input\",\r\n      classes: [\"auth__input-password\", \"input\"],\r\n    };\r\n    const password = new createElement(param).getElement();\r\n    password.setAttribute(\"type\", \"text\");\r\n    password.addEventListener(\"blur\", () => {\r\n      const wrapper = document.querySelector(\".auth__wrapper-password\");\r\n      this.validation(password, \"Password\", wrapper);\r\n    });\r\n    return password;\r\n  }\r\n\r\n  createButton(): Html {\r\n    const param = {\r\n      tag: \"button\",\r\n      classes: [\"auth__button\", \"button\"],\r\n      text: \"Submit\",\r\n    };\r\n    const button = new createElement(param).getElement();\r\n    button.setAttribute(\"type\", \"button\");\r\n    button?.setAttribute(\"disabled\", \"true\");\r\n\r\n    button.addEventListener(\"click\", () => {\r\n      const loginValue: HTMLInputElement | null =\r\n        document.querySelector(\".auth__input-login\");\r\n      const PasswordValue: HTMLInputElement | null = document.querySelector(\r\n        \".auth__input-password\"\r\n      );\r\n      const authorization = JSON.stringify({\r\n        id: `${this.idGenerator()}`,\r\n        type: \"USER_LOGIN\",\r\n        payload: {\r\n          user: {\r\n            login: `${loginValue?.value}`,\r\n            password: `${PasswordValue?.value}`,\r\n          },\r\n        },\r\n      });\r\n      const loginSession = {\r\n        login: `${loginValue?.value}`,\r\n        password: `${PasswordValue?.value}`,\r\n        id: `${this.idGenerator()}`,\r\n      };\r\n      sessionStorage.setItem(\"Login\", JSON.stringify(loginSession));\r\n      socket?.send(authorization);\r\n    });\r\n    this.pressEnter();\r\n    return button;\r\n  }\r\n\r\n  createAboutBtn(): Html {\r\n    const param = {\r\n      tag: \"button\",\r\n      classes: [\"auth__log-out_btn\", \"auth__btn\", \"button\"],\r\n      text: \"About\",\r\n    };\r\n    const button = new createElement(param).getElement();\r\n    button.setAttribute(\"type\", \"button\");\r\n    const aboutModal = new AboutModal().buildAbout();\r\n    const body = document.querySelector(\"body\");\r\n    button.addEventListener(\"click\", () => {\r\n      body?.insertAdjacentElement(\"afterbegin\", aboutModal);\r\n      setTimeout(() => {\r\n        aboutModal.classList.remove(\"about--inactive\");\r\n      }, 100);\r\n    });\r\n    return button;\r\n  }\r\n\r\n  validation(input: Html, purpose: string, wrapper: Element | null): void {\r\n    const minLength: number = 4;\r\n    const button = document.querySelector(\".auth__button\");\r\n    if (input instanceof HTMLInputElement) {\r\n      if (this.conditionLogin)\r\n        if (purpose === \"Login\") {\r\n          this.conditionLogin = false;\r\n        } else if (purpose === \"Password\") {\r\n          this.conditionPassword = false;\r\n        }\r\n      const inputVal = input.value.split(\"\");\r\n      const message = wrapper;\r\n      const messageValue: Html = this.validationMessage();\r\n      if (inputVal.length > 0) {\r\n        if (inputVal[0] !== inputVal[0].toUpperCase()) {\r\n          messageValue.innerHTML += `The ${purpose} must start with a capital letter <br>`;\r\n        }\r\n        if (inputVal.length < minLength) {\r\n          messageValue.innerHTML += `The ${purpose} must be longer than 4 <br>`;\r\n        }\r\n      }\r\n      if (inputVal.length === 0) {\r\n        messageValue.textContent += `Please add your ${purpose}`;\r\n      }\r\n      if (\r\n        inputVal.length > minLength &&\r\n        inputVal.length !== 0 &&\r\n        inputVal[0] == inputVal[0].toUpperCase()\r\n      ) {\r\n        if (purpose === \"Login\") {\r\n          this.conditionLogin = true;\r\n        } else if (purpose === \"Password\") {\r\n          this.conditionPassword = true;\r\n        }\r\n      }\r\n      if (!this.conditionLogin || !this.conditionPassword) {\r\n        button?.setAttribute(\"disabled\", \"true\");\r\n      }\r\n      this.validationMessageDelete(wrapper);\r\n      message?.append(messageValue);\r\n    }\r\n    if (this.conditionLogin && this.conditionPassword) {\r\n      console.log(this.conditionLogin, this.conditionPassword);\r\n      button?.removeAttribute(\"disabled\");\r\n    }\r\n  }\r\n\r\n  validationMessage(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"auth__message\", \"message\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  validationMessageDelete(wrapper: Element | null): void {\r\n    if (wrapper) {\r\n      const message = wrapper.querySelectorAll(\".auth__message\");\r\n      message.forEach((e) => {\r\n        e.remove();\r\n      });\r\n    }\r\n  }\r\n  idGenerator(): string {\r\n    const characters =\r\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    let result = \"\";\r\n    for (let i = 0; i < 10; i++) {\r\n      result += characters.charAt(\r\n        Math.floor(Math.random() * characters.length)\r\n      );\r\n    }\r\n    return result;\r\n  }\r\n  pressEnter(): void {\r\n    document.addEventListener(\"keydown\", (e) => {\r\n      if (e.keyCode === 13 && this.conditionLogin && this.conditionPassword) {\r\n        const loginValue: HTMLInputElement | null =\r\n          document.querySelector(\".auth__input-login\");\r\n        const PasswordValue: HTMLInputElement | null = document.querySelector(\r\n          \".auth__input-password\"\r\n        );\r\n        const authorization = JSON.stringify({\r\n          id: `${this.idGenerator()}`,\r\n          type: \"USER_LOGIN\",\r\n          payload: {\r\n            user: {\r\n              login: `${loginValue?.value}`,\r\n              password: `${PasswordValue?.value}`,\r\n            },\r\n          },\r\n        });\r\n        socket?.send(authorization);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import createElement from \"../../utils/createElems\";\r\nimport { Html } from \"../../utils/createElems\";\r\nimport { AuthForm } from \"../../components/auth/authForm\";\r\nimport \"./main.scss\";\r\nimport { Chat } from \"../chat/chat\";\r\nexport class Main {\r\n  main: Html;\r\n  constructor() {\r\n    this.main = this.createMainLoyalt();\r\n  }\r\n\r\n  createMainLoyalt(): Html {\r\n    const app = document.getElementById(\"app\");\r\n    app?.remove();\r\n    const authForm = new AuthForm().collectForm();\r\n    const mainWrapper = this.createWrapper();\r\n    const main = this.createMain();\r\n    const chat = new Chat().buildChat();\r\n\r\n    main.append(mainWrapper);\r\n    if (sessionStorage.getItem(\"Login\")) {\r\n      chat.classList.remove(\"chat--inactive\");\r\n      mainWrapper.append(chat);\r\n    } else if (!sessionStorage.getItem(\"Login\")) {\r\n      mainWrapper.append(authForm);\r\n    }\r\n    return main;\r\n  }\r\n  createWrapper(): Html {\r\n    const param = {\r\n      tag: \"div\",\r\n      classes: [\"wrapper\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n  createMain(): Html {\r\n    const param = {\r\n      tag: \"main\",\r\n      classes: [\"main\"],\r\n    };\r\n    return new createElement(param).getElement();\r\n  }\r\n}\r\n","import { Main } from \"../view/main/mainLoyalt\";\r\nimport \"../components/buttons/button.scss\";\r\nimport \"../components/links/links.scss\";\r\nimport { Header } from \"../view/header/header\";\r\nimport { Footer } from \"../view/footer/footer\";\r\nexport class App {\r\n  constructor() {\r\n    this.addMain();\r\n  }\r\n  addMain(): void {\r\n    const header = new Header().buildHeader();\r\n    const footer = new Footer().buildFooter();\r\n    header.classList.remove(\"header--inactive\");\r\n    footer.classList.remove(\"footer--inactive\");\r\n    const body = document.querySelector(\"body\");\r\n    const main = new Main().createMainLoyalt();\r\n    if (document.querySelector(\".chat\")) {\r\n      body?.classList.add(\"body--app\");\r\n    }\r\n    body?.append(main);\r\n  }\r\n}\r\n","import { App } from \"./app/app\";\r\nimport \"./webSocket/webSocket\";\r\nconst app = new App();\r\napp;\r\n"],"names":["user","messageFrom","chat","e","sesionLogin","messageText"],"mappings":"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"}